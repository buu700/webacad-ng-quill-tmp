{"version":3,"file":"webacad-ng-quill.umd.js.map","sources":["ng://@webacad/ng-quill/quill.component.ts","ng://@webacad/ng-quill/quill.module.ts"],"sourcesContent":["import {Component, ElementRef, OnInit, OnDestroy, Input} from '@angular/core';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\nimport * as Quill from 'quill';\n\n\n@Component({\n\tselector: 'wa-quill',\n\ttemplate: '',\n\tproviders: [\n\t\t{\n\t\t\tprovide: NG_VALUE_ACCESSOR,\n\t\t\tuseExisting: QuillComponent,\n\t\t\tmulti: true,\n\t\t},\n\t],\n})\nexport class QuillComponent implements OnInit, OnDestroy, ControlValueAccessor\n{\n\n\n\t@Input()\n\tpublic theme: string = 'snow';\n\n\t@Input()\n\tpublic options: any = null;\n\n\tprotected editor: Quill;\n\n\tprivate defaultContents: any|undefined;\n\n\n\tconstructor(\n\t\tprivate $el: ElementRef,\n\t) {}\n\n\n\tpublic ngOnInit(): void\n\t{\n\t\tconst options = this.options || {};\n\n\t\tif (typeof options.theme === 'undefined') {\n\t\t\toptions.theme = this.theme;\n\t\t}\n\n\t\tthis.editor = new Quill(this.$el.nativeElement, options);\n\n\t\tif (typeof this.defaultContents !== 'undefined') {\n\t\t\tthis.editor.setContents(this.defaultContents);\n\t\t}\n\n\t\tthis.editor.on('text-change', () => {\n\t\t\tthis.onChange(this.getValue());\n\t\t});\n\n\t\tthis.$el.nativeElement.querySelector('.ql-editor').addEventListener('blur', () => {\n\t\t\tthis.onTouched();\n\t\t});\n\t}\n\n\n\tpublic ngOnDestroy(): void\n\t{\n\t}\n\n\n\tpublic writeValue(contents: any): void\n\t{\n\t\tif (this.editor) {\n\t\t\tthis.editor.setContents(contents);\n\t\t} else {\n\t\t\tthis.defaultContents = contents;\n\t\t}\n\t}\n\n\n\tpublic registerOnChange(fn: any): void\n\t{\n\t\tthis.onChange = fn;\n\t}\n\n\n\tpublic registerOnTouched(fn: any): void\n\t{\n\t\tthis.onTouched = fn;\n\t}\n\n\n\tprotected getValue(): any|undefined\n\t{\n\t\tif (!this.editor) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst contents: any = this.editor.getContents();\n\n\t\tif (this.isEmpty(contents)) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn contents;\n\t}\n\n\n\tprotected isEmpty(contents: any): boolean\n\t{\n\t\tif (contents.ops.length > 1) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst opsTypes: Array<string> = Object.keys(contents.ops[0]);\n\n\t\tif (opsTypes.length > 1) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (opsTypes[0] !== 'insert') {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (contents.ops[0].insert !== '\\n') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\n\tprotected onTouched = () => {};\n\n\n\tprivate onChange = (_: any) => {};\n\n}\n","import {NgModule} from '@angular/core';\n\nimport {QuillComponent} from './quill.component';\n\n\n@NgModule({\n\tdeclarations: [\n\t\tQuillComponent,\n\t],\n\texports: [\n\t\tQuillComponent,\n\t],\n})\nexport class QuillModule {}\n"],"names":["Component","NG_VALUE_ACCESSOR","ElementRef","Input","NgModule"],"mappings":"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"}
