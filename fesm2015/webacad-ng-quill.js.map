{"version":3,"file":"webacad-ng-quill.js.map","sources":["ng://@webacad/ng-quill/quill.component.ts","ng://@webacad/ng-quill/quill.module.ts"],"sourcesContent":["import {Component, ElementRef, OnInit, OnDestroy, Input} from '@angular/core';\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\nimport * as Quill from 'quill';\n\n\n@Component({\n\tselector: 'wa-quill',\n\ttemplate: '',\n\tproviders: [\n\t\t{\n\t\t\tprovide: NG_VALUE_ACCESSOR,\n\t\t\tuseExisting: QuillComponent,\n\t\t\tmulti: true,\n\t\t},\n\t],\n})\nexport class QuillComponent implements OnInit, OnDestroy, ControlValueAccessor\n{\n\n\n\t@Input()\n\tpublic theme: string = 'snow';\n\n\t@Input()\n\tpublic options: any = null;\n\n\tprotected editor: Quill.Quill;\n\n\tprivate defaultContents: any|undefined;\n\n\tprivate isDisabled: boolean = false;\n\n\n\tconstructor(\n\t\tprivate $el: ElementRef,\n\t) {}\n\n\n\tpublic ngOnInit(): void\n\t{\n\t\tconst options = this.options || {};\n\n\t\tif (typeof options.theme === 'undefined') {\n\t\t\toptions.theme = this.theme;\n\t\t}\n\n\t\tthis.editor = new Quill(this.$el.nativeElement, options);\n\n\t\tthis.setDisabledState(this.isDisabled);\n\n\t\tif (typeof this.defaultContents !== 'undefined') {\n\t\t\tthis.editor.setContents(this.defaultContents);\n\t\t}\n\n\t\tthis.editor.on('text-change', () => {\n\t\t\tthis.onChange(this.getValue());\n\t\t});\n\n\t\tthis.$el.nativeElement.querySelector('.ql-editor').addEventListener('blur', () => {\n\t\t\tthis.onTouched();\n\t\t});\n\t}\n\n\n\tpublic ngOnDestroy(): void\n\t{\n\t}\n\n\n\tpublic writeValue(contents: any): void\n\t{\n\t\tif (this.editor) {\n\t\t\tthis.editor.setContents(contents);\n\t\t} else {\n\t\t\tthis.defaultContents = contents;\n\t\t}\n\t}\n\n\n\tpublic registerOnChange(fn: any): void\n\t{\n\t\tthis.onChange = fn;\n\t}\n\n\n\tpublic registerOnTouched(fn: any): void\n\t{\n\t\tthis.onTouched = fn;\n\t}\n\n\tpublic setDisabledState(isDisabled: boolean) : void\n\t{\n\t\tthis.isDisabled = isDisabled;\n\n\t\tif (!this.editor) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (isDisabled) {\n\t\t\tthis.editor.disable();\n\t\t} else {\n\t\t\tthis.editor.enable();\n\t\t}\n\t}\n\n\n\tprotected getValue(): any|undefined\n\t{\n\t\tif (!this.editor) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst contents: any = this.editor.getContents();\n\n\t\tif (this.isEmpty(contents)) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn contents;\n\t}\n\n\n\tprotected isEmpty(contents: any): boolean\n\t{\n\t\tif (contents.ops.length > 1) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst opsTypes: Array<string> = Object.keys(contents.ops[0]);\n\n\t\tif (opsTypes.length > 1) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (opsTypes[0] !== 'insert') {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (contents.ops[0].insert !== '\\n') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\n\tprotected onTouched = () => {};\n\n\n\tprivate onChange = (_: any) => {};\n\n}\n","import {NgModule} from '@angular/core';\n\nimport {QuillComponent} from './quill.component';\n\n\n@NgModule({\n\tdeclarations: [\n\t\tQuillComponent,\n\t],\n\texports: [\n\t\tQuillComponent,\n\t],\n})\nexport class QuillModule {}\n"],"names":[],"mappings":";;;;;;;;AAAA;;;;IAiCC,YACS;QAAA,QAAG,GAAH,GAAG;qBAbW,MAAM;uBAGP,IAAI;0BAMI,KAAK;yBAoHb,SAAQ;wBAGX,CAAC,CAAM,QAAO;KAlH7B;;;;IAGG,QAAQ;;QAEd,MAAM,OAAO,GAAG,IAAI,CAAC,OAAO,IAAI,EAAE,CAAC;QAEnC,IAAI,OAAO,OAAO,CAAC,KAAK,KAAK,WAAW,EAAE;YACzC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;SAC3B;QAED,IAAI,CAAC,MAAM,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;QAEzD,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAEvC,IAAI,OAAO,IAAI,CAAC,eAAe,KAAK,WAAW,EAAE;YAChD,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;SAC9C;QAED,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,aAAa,EAAE;YAC7B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;SAC/B,CAAC,CAAC;QAEH,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC,gBAAgB,CAAC,MAAM,EAAE;YAC3E,IAAI,CAAC,SAAS,EAAE,CAAC;SACjB,CAAC,CAAC;;;;;IAIG,WAAW;;;;;;IAKX,UAAU,CAAC,QAAa;QAE9B,IAAI,IAAI,CAAC,MAAM,EAAE;YAChB,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;SAClC;aAAM;YACN,IAAI,CAAC,eAAe,GAAG,QAAQ,CAAC;SAChC;;;;;;IAIK,gBAAgB,CAAC,EAAO;QAE9B,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;;;;;;IAIb,iBAAiB,CAAC,EAAO;QAE/B,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;;;;;;IAGd,gBAAgB,CAAC,UAAmB;QAE1C,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAE7B,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YACjB,OAAO;SACP;QAED,IAAI,UAAU,EAAE;YACf,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;SACtB;aAAM;YACN,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;SACrB;;;;;IAIQ,QAAQ;QAEjB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YACjB,OAAO,SAAS,CAAC;SACjB;;QAED,MAAM,QAAQ,GAAQ,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC;QAEhD,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;YAC3B,OAAO,SAAS,CAAC;SACjB;QAED,OAAO,QAAQ,CAAC;KAChB;;;;;IAGS,OAAO,CAAC,QAAa;QAE9B,IAAI,QAAQ,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE;YAC5B,OAAO,KAAK,CAAC;SACb;;QAED,MAAM,QAAQ,GAAkB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAE7D,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YACxB,OAAO,KAAK,CAAC;SACb;QAED,IAAI,QAAQ,CAAC,CAAC,CAAC,KAAK,QAAQ,EAAE;YAC7B,OAAO,KAAK,CAAC;SACb;QAED,IAAI,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,KAAK,IAAI,EAAE;YACpC,OAAO,KAAK,CAAC;SACb;QAED,OAAO,IAAI,CAAC;KACZ;;;YA1ID,SAAS,SAAC;gBACV,QAAQ,EAAE,UAAU;gBACpB,QAAQ,EAAE,EAAE;gBACZ,SAAS,EAAE;oBACV;wBACC,OAAO,EAAE,iBAAiB;wBAC1B,WAAW,EAAE,cAAc;wBAC3B,KAAK,EAAE,IAAI;qBACX;iBACD;aACD;;;;YAfkB,UAAU;;;oBAoB3B,KAAK;sBAGL,KAAK;;;;;;;ACvBP;;;YAKC,QAAQ,SAAC;gBACT,YAAY,EAAE;oBACb,cAAc;iBACd;gBACD,OAAO,EAAE;oBACR,cAAc;iBACd;aACD;;;;;;;;;;;;;;;"}
